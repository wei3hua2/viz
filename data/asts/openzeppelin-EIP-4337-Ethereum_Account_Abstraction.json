[
 {
  "path": "/home/jameschong/Projects/audits-kd/workspace/datasets/DAppSCAN/DAppSCAN-source/contracts/openzeppelin-EIP-4337-Ethereum_Account_Abstraction/account-abstraction-8832d6e04b9f4f706f612261c6e46b3f1745d61a/EntryPoint.sol",
  "ast": {
   "type": "SourceUnit",
   "children": [
    {
     "type": "PragmaDirective",
     "name": "solidity",
     "value": "^0.8.7"
    },
    {
     "type": "ImportDirective",
     "path": "./StakeManager.sol",
     "pathLiteral": {
      "type": "StringLiteral",
      "value": "./StakeManager.sol",
      "parts": [
       "./StakeManager.sol"
      ],
      "isUnicode": [
       false
      ]
     },
     "unitAlias": null,
     "unitAliasIdentifier": null,
     "symbolAliases": null,
     "symbolAliasesIdentifiers": null
    },
    {
     "type": "ImportDirective",
     "path": "./UserOperation.sol",
     "pathLiteral": {
      "type": "StringLiteral",
      "value": "./UserOperation.sol",
      "parts": [
       "./UserOperation.sol"
      ],
      "isUnicode": [
       false
      ]
     },
     "unitAlias": null,
     "unitAliasIdentifier": null,
     "symbolAliases": null,
     "symbolAliasesIdentifiers": null
    },
    {
     "type": "ImportDirective",
     "path": "./IWallet.sol",
     "pathLiteral": {
      "type": "StringLiteral",
      "value": "./IWallet.sol",
      "parts": [
       "./IWallet.sol"
      ],
      "isUnicode": [
       false
      ]
     },
     "unitAlias": null,
     "unitAliasIdentifier": null,
     "symbolAliases": null,
     "symbolAliasesIdentifiers": null
    },
    {
     "type": "ImportDirective",
     "path": "./IPaymaster.sol",
     "pathLiteral": {
      "type": "StringLiteral",
      "value": "./IPaymaster.sol",
      "parts": [
       "./IPaymaster.sol"
      ],
      "isUnicode": [
       false
      ]
     },
     "unitAlias": null,
     "unitAliasIdentifier": null,
     "symbolAliases": null,
     "symbolAliasesIdentifiers": null
    },
    {
     "type": "ContractDefinition",
     "name": "ICreate2Deployer",
     "baseContracts": [],
     "subNodes": [
      {
       "type": "FunctionDefinition",
       "name": "deploy",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes",
          "stateMutability": null
         },
         "name": "_initCode",
         "identifier": {
          "type": "Identifier",
          "name": "_initCode"
         },
         "storageLocation": "memory",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes32",
          "stateMutability": null
         },
         "name": "_salt",
         "identifier": {
          "type": "Identifier",
          "name": "_salt"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": null,
         "identifier": null,
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": null,
       "visibility": "external",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      }
     ],
     "kind": "interface"
    },
    {
     "type": "ContractDefinition",
     "name": "EntryPoint",
     "baseContracts": [
      {
       "type": "InheritanceSpecifier",
       "baseName": {
        "type": "UserDefinedTypeName",
        "namePath": "StakeManager"
       },
       "arguments": []
      }
     ],
     "subNodes": [
      {
       "type": "UsingForDeclaration",
       "isGlobal": false,
       "typeName": {
        "type": "UserDefinedTypeName",
        "namePath": "UserOperation"
       },
       "libraryName": "UserOperationLib",
       "functions": [],
       "operators": []
      },
      {
       "type": "EnumDefinition",
       "name": "PaymentMode",
       "members": [
        {
         "type": "EnumValue",
         "name": "paymasterStake"
        },
        {
         "type": "EnumValue",
         "name": "walletStake"
        }
       ]
      },
      {
       "type": "StateVariableDeclaration",
       "variables": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "paymasterStake",
         "identifier": {
          "type": "Identifier",
          "name": "paymasterStake"
         },
         "expression": null,
         "visibility": "public",
         "isStateVar": true,
         "isDeclaredConst": false,
         "isIndexed": false,
         "isImmutable": true,
         "override": null,
         "storageLocation": null
        }
       ],
       "initialValue": null
      },
      {
       "type": "StateVariableDeclaration",
       "variables": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": "create2factory",
         "identifier": {
          "type": "Identifier",
          "name": "create2factory"
         },
         "expression": null,
         "visibility": "public",
         "isStateVar": true,
         "isDeclaredConst": false,
         "isIndexed": false,
         "isImmutable": true,
         "override": null,
         "storageLocation": null
        }
       ],
       "initialValue": null
      },
      {
       "type": "EventDefinition",
       "name": "UserOperationEvent",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes32",
          "stateMutability": null
         },
         "name": "requestId",
         "identifier": {
          "type": "Identifier",
          "name": "requestId"
         },
         "isStateVar": false,
         "isIndexed": true,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": "sender",
         "identifier": {
          "type": "Identifier",
          "name": "sender"
         },
         "isStateVar": false,
         "isIndexed": true,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": "paymaster",
         "identifier": {
          "type": "Identifier",
          "name": "paymaster"
         },
         "isStateVar": false,
         "isIndexed": true,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "nonce",
         "identifier": {
          "type": "Identifier",
          "name": "nonce"
         },
         "isStateVar": false,
         "isIndexed": false,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "actualGasCost",
         "identifier": {
          "type": "Identifier",
          "name": "actualGasCost"
         },
         "isStateVar": false,
         "isIndexed": false,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "actualGasPrice",
         "identifier": {
          "type": "Identifier",
          "name": "actualGasPrice"
         },
         "isStateVar": false,
         "isIndexed": false,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bool",
          "stateMutability": null
         },
         "name": "success",
         "identifier": {
          "type": "Identifier",
          "name": "success"
         },
         "isStateVar": false,
         "isIndexed": false,
         "storageLocation": null,
         "expression": null
        }
       ],
       "isAnonymous": false
      },
      {
       "type": "EventDefinition",
       "name": "UserOperationRevertReason",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes32",
          "stateMutability": null
         },
         "name": "requestId",
         "identifier": {
          "type": "Identifier",
          "name": "requestId"
         },
         "isStateVar": false,
         "isIndexed": true,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": "sender",
         "identifier": {
          "type": "Identifier",
          "name": "sender"
         },
         "isStateVar": false,
         "isIndexed": true,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "nonce",
         "identifier": {
          "type": "Identifier",
          "name": "nonce"
         },
         "isStateVar": false,
         "isIndexed": false,
         "storageLocation": null,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes",
          "stateMutability": null
         },
         "name": "revertReason",
         "identifier": {
          "type": "Identifier",
          "name": "revertReason"
         },
         "isStateVar": false,
         "isIndexed": false,
         "storageLocation": null,
         "expression": null
        }
       ],
       "isAnonymous": false
      },
      {
       "type": "CustomErrorDefinition",
       "name": "FailedOp",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "opIndex",
         "identifier": {
          "type": "Identifier",
          "name": "opIndex"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": "paymaster",
         "identifier": {
          "type": "Identifier",
          "name": "paymaster"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "string",
          "stateMutability": null
         },
         "name": "reason",
         "identifier": {
          "type": "Identifier",
          "name": "reason"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ]
      },
      {
       "type": "FunctionDefinition",
       "name": null,
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": "_create2factory",
         "identifier": {
          "type": "Identifier",
          "name": "_create2factory"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "_paymasterStake",
         "identifier": {
          "type": "Identifier",
          "name": "_paymasterStake"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint32",
          "stateMutability": null
         },
         "name": "_unstakeDelaySec",
         "identifier": {
          "type": "Identifier",
          "name": "_unstakeDelaySec"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": null,
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "BinaryOperation",
           "operator": "=",
           "left": {
            "type": "Identifier",
            "name": "create2factory"
           },
           "right": {
            "type": "Identifier",
            "name": "_create2factory"
           }
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "BinaryOperation",
           "operator": "=",
           "left": {
            "type": "Identifier",
            "name": "paymasterStake"
           },
           "right": {
            "type": "Identifier",
            "name": "_paymasterStake"
           }
          }
         }
        ]
       },
       "visibility": "default",
       "modifiers": [
        {
         "type": "ModifierInvocation",
         "name": "StakeManager",
         "arguments": [
          {
           "type": "Identifier",
           "name": "_unstakeDelaySec"
          }
         ]
        }
       ],
       "override": null,
       "isConstructor": true,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "handleOp",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "op",
         "identifier": {
          "type": "Identifier",
          "name": "op"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": "payable"
         },
         "name": "beneficiary",
         "identifier": {
          "type": "Identifier",
          "name": "beneficiary"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": null,
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "preGas",
            "identifier": {
             "type": "Identifier",
             "name": "preGas"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "gasleft"
           },
           "arguments": [],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "UncheckedStatement",
          "block": {
           "type": "Block",
           "statements": [
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "bytes32",
                "stateMutability": null
               },
               "name": "requestId",
               "identifier": {
                "type": "Identifier",
                "name": "requestId"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "getRequestId"
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "op"
               }
              ],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "name": "prefund",
               "identifier": {
                "type": "Identifier",
                "name": "prefund"
               },
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint256",
                "stateMutability": null
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              },
              {
               "type": "VariableDeclaration",
               "name": "paymentMode",
               "identifier": {
                "type": "Identifier",
                "name": "paymentMode"
               },
               "typeName": {
                "type": "UserDefinedTypeName",
                "namePath": "PaymentMode"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              },
              {
               "type": "VariableDeclaration",
               "name": "context",
               "identifier": {
                "type": "Identifier",
                "name": "context"
               },
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "bytes",
                "stateMutability": null
               },
               "storageLocation": "memory",
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "_validatePrepayment"
              },
              "arguments": [
               {
                "type": "NumberLiteral",
                "number": "0",
                "subdenomination": null
               },
               {
                "type": "Identifier",
                "name": "op"
               },
               {
                "type": "Identifier",
                "name": "requestId"
               }
              ],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "UserDefinedTypeName",
                "namePath": "UserOpInfo"
               },
               "name": "opInfo",
               "identifier": {
                "type": "Identifier",
                "name": "opInfo"
               },
               "storageLocation": "memory",
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "UserOpInfo"
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "requestId"
               },
               {
                "type": "Identifier",
                "name": "prefund"
               },
               {
                "type": "Identifier",
                "name": "paymentMode"
               },
               {
                "type": "NumberLiteral",
                "number": "0",
                "subdenomination": null
               },
               {
                "type": "BinaryOperation",
                "operator": "+",
                "left": {
                 "type": "BinaryOperation",
                 "operator": "-",
                 "left": {
                  "type": "Identifier",
                  "name": "preGas"
                 },
                 "right": {
                  "type": "FunctionCall",
                  "expression": {
                   "type": "Identifier",
                   "name": "gasleft"
                  },
                  "arguments": [],
                  "names": [],
                  "identifiers": []
                 }
                },
                "right": {
                 "type": "MemberAccess",
                 "expression": {
                  "type": "Identifier",
                  "name": "op"
                 },
                 "memberName": "preVerificationGas"
                }
               }
              ],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint",
                "stateMutability": null
               },
               "name": "actualGasCost",
               "identifier": {
                "type": "Identifier",
                "name": "actualGasCost"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": null
            },
            {
             "type": "TryStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "this"
               },
               "memberName": "internalHandleOp"
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "op"
               },
               {
                "type": "Identifier",
                "name": "opInfo"
               },
               {
                "type": "Identifier",
                "name": "context"
               }
              ],
              "names": [],
              "identifiers": []
             },
             "returnParameters": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint",
                "stateMutability": null
               },
               "name": "_actualGasCost",
               "identifier": {
                "type": "Identifier",
                "name": "_actualGasCost"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "body": {
              "type": "Block",
              "statements": [
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "Identifier",
                  "name": "actualGasCost"
                 },
                 "right": {
                  "type": "Identifier",
                  "name": "_actualGasCost"
                 }
                }
               }
              ]
             },
             "catchClauses": [
              {
               "type": "CatchClause",
               "isReasonStringType": false,
               "kind": null,
               "parameters": null,
               "body": {
                "type": "Block",
                "statements": [
                 {
                  "type": "VariableDeclarationStatement",
                  "variables": [
                   {
                    "type": "VariableDeclaration",
                    "typeName": {
                     "type": "ElementaryTypeName",
                     "name": "uint",
                     "stateMutability": null
                    },
                    "name": "actualGas",
                    "identifier": {
                     "type": "Identifier",
                     "name": "actualGas"
                    },
                    "storageLocation": null,
                    "isStateVar": false,
                    "isIndexed": false,
                    "expression": null
                   }
                  ],
                  "initialValue": {
                   "type": "BinaryOperation",
                   "operator": "+",
                   "left": {
                    "type": "BinaryOperation",
                    "operator": "-",
                    "left": {
                     "type": "Identifier",
                     "name": "preGas"
                    },
                    "right": {
                     "type": "FunctionCall",
                     "expression": {
                      "type": "Identifier",
                      "name": "gasleft"
                     },
                     "arguments": [],
                     "names": [],
                     "identifiers": []
                    }
                   },
                   "right": {
                    "type": "MemberAccess",
                    "expression": {
                     "type": "Identifier",
                     "name": "opInfo"
                    },
                    "memberName": "preOpGas"
                   }
                  }
                 },
                 {
                  "type": "ExpressionStatement",
                  "expression": {
                   "type": "BinaryOperation",
                   "operator": "=",
                   "left": {
                    "type": "Identifier",
                    "name": "actualGasCost"
                   },
                   "right": {
                    "type": "FunctionCall",
                    "expression": {
                     "type": "Identifier",
                     "name": "handlePostOp"
                    },
                    "arguments": [
                     {
                      "type": "NumberLiteral",
                      "number": "0",
                      "subdenomination": null
                     },
                     {
                      "type": "MemberAccess",
                      "expression": {
                       "type": "MemberAccess",
                       "expression": {
                        "type": "Identifier",
                        "name": "IPaymaster"
                       },
                       "memberName": "PostOpMode"
                      },
                      "memberName": "postOpReverted"
                     },
                     {
                      "type": "Identifier",
                      "name": "op"
                     },
                     {
                      "type": "Identifier",
                      "name": "opInfo"
                     },
                     {
                      "type": "Identifier",
                      "name": "context"
                     },
                     {
                      "type": "Identifier",
                      "name": "actualGas"
                     }
                    ],
                    "names": [],
                    "identifiers": []
                   }
                  }
                 }
                ]
               }
              }
             ]
            },
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "compensate"
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "beneficiary"
               },
               {
                "type": "Identifier",
                "name": "actualGasCost"
               }
              ],
              "names": [],
              "identifiers": []
             }
            }
           ]
          }
         }
        ]
       },
       "visibility": "public",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "compensate",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": "payable"
         },
         "name": "beneficiary",
         "identifier": {
          "type": "Identifier",
          "name": "beneficiary"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "amount",
         "identifier": {
          "type": "Identifier",
          "name": "amount"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": null,
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "name": "success",
            "identifier": {
             "type": "Identifier",
             "name": "success"
            },
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "bool",
             "stateMutability": null
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           },
           null
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "NameValueExpression",
            "expression": {
             "type": "MemberAccess",
             "expression": {
              "type": "Identifier",
              "name": "beneficiary"
             },
             "memberName": "call"
            },
            "arguments": {
             "type": "NameValueList",
             "names": [
              "value"
             ],
             "identifiers": [
              {
               "type": "Identifier",
               "name": "value"
              }
             ],
             "arguments": [
              {
               "type": "Identifier",
               "name": "amount"
              }
             ]
            }
           },
           "arguments": [
            {
             "type": "StringLiteral",
             "value": "",
             "parts": [
              ""
             ],
             "isUnicode": [
              false
             ]
            }
           ],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "require"
           },
           "arguments": [
            {
             "type": "Identifier",
             "name": "success"
            }
           ],
           "names": [],
           "identifiers": []
          }
         }
        ]
       },
       "visibility": "internal",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "handleOps",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ArrayTypeName",
          "baseTypeName": {
           "type": "UserDefinedTypeName",
           "namePath": "UserOperation"
          },
          "length": null
         },
         "name": "ops",
         "identifier": {
          "type": "Identifier",
          "name": "ops"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": "payable"
         },
         "name": "beneficiary",
         "identifier": {
          "type": "Identifier",
          "name": "beneficiary"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": null,
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "opslen",
            "identifier": {
             "type": "Identifier",
             "name": "opslen"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "MemberAccess",
           "expression": {
            "type": "Identifier",
            "name": "ops"
           },
           "memberName": "length"
          }
         },
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ArrayTypeName",
             "baseTypeName": {
              "type": "UserDefinedTypeName",
              "namePath": "UserOpInfo"
             },
             "length": null
            },
            "name": "opInfos",
            "identifier": {
             "type": "Identifier",
             "name": "opInfos"
            },
            "storageLocation": "memory",
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "NewExpression",
            "typeName": {
             "type": "ArrayTypeName",
             "baseTypeName": {
              "type": "UserDefinedTypeName",
              "namePath": "UserOpInfo"
             },
             "length": null
            }
           },
           "arguments": [
            {
             "type": "Identifier",
             "name": "opslen"
            }
           ],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "UncheckedStatement",
          "block": {
           "type": "Block",
           "statements": [
            {
             "type": "ForStatement",
             "initExpression": {
              "type": "VariableDeclarationStatement",
              "variables": [
               {
                "type": "VariableDeclaration",
                "typeName": {
                 "type": "ElementaryTypeName",
                 "name": "uint",
                 "stateMutability": null
                },
                "name": "i",
                "identifier": {
                 "type": "Identifier",
                 "name": "i"
                },
                "storageLocation": null,
                "isStateVar": false,
                "isIndexed": false,
                "expression": null
               }
              ],
              "initialValue": {
               "type": "NumberLiteral",
               "number": "0",
               "subdenomination": null
              }
             },
             "conditionExpression": {
              "type": "BinaryOperation",
              "operator": "<",
              "left": {
               "type": "Identifier",
               "name": "i"
              },
              "right": {
               "type": "Identifier",
               "name": "opslen"
              }
             },
             "loopExpression": {
              "type": "ExpressionStatement",
              "expression": {
               "type": "UnaryOperation",
               "operator": "++",
               "subExpression": {
                "type": "Identifier",
                "name": "i"
               },
               "isPrefix": false
              }
             },
             "body": {
              "type": "Block",
              "statements": [
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "uint",
                   "stateMutability": null
                  },
                  "name": "preGas",
                  "identifier": {
                   "type": "Identifier",
                   "name": "preGas"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "gasleft"
                 },
                 "arguments": [],
                 "names": [],
                 "identifiers": []
                }
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "UserDefinedTypeName",
                   "namePath": "UserOperation"
                  },
                  "name": "op",
                  "identifier": {
                   "type": "Identifier",
                   "name": "op"
                  },
                  "storageLocation": "calldata",
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "IndexAccess",
                 "base": {
                  "type": "Identifier",
                  "name": "ops"
                 },
                 "index": {
                  "type": "Identifier",
                  "name": "i"
                 }
                }
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "bytes",
                   "stateMutability": null
                  },
                  "name": "context",
                  "identifier": {
                   "type": "Identifier",
                   "name": "context"
                  },
                  "storageLocation": "memory",
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": null
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "uint",
                   "stateMutability": null
                  },
                  "name": "contextOffset",
                  "identifier": {
                   "type": "Identifier",
                   "name": "contextOffset"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": null
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "bytes32",
                   "stateMutability": null
                  },
                  "name": "requestId",
                  "identifier": {
                   "type": "Identifier",
                   "name": "requestId"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "getRequestId"
                 },
                 "arguments": [
                  {
                   "type": "Identifier",
                   "name": "op"
                  }
                 ],
                 "names": [],
                 "identifiers": []
                }
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "uint",
                   "stateMutability": null
                  },
                  "name": "prefund",
                  "identifier": {
                   "type": "Identifier",
                   "name": "prefund"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": null
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "UserDefinedTypeName",
                   "namePath": "PaymentMode"
                  },
                  "name": "paymentMode",
                  "identifier": {
                   "type": "Identifier",
                   "name": "paymentMode"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": null
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "TupleExpression",
                  "components": [
                   {
                    "type": "Identifier",
                    "name": "prefund"
                   },
                   {
                    "type": "Identifier",
                    "name": "paymentMode"
                   },
                   {
                    "type": "Identifier",
                    "name": "context"
                   }
                  ],
                  "isArray": false
                 },
                 "right": {
                  "type": "FunctionCall",
                  "expression": {
                   "type": "Identifier",
                   "name": "_validatePrepayment"
                  },
                  "arguments": [
                   {
                    "type": "Identifier",
                    "name": "i"
                   },
                   {
                    "type": "Identifier",
                    "name": "op"
                   },
                   {
                    "type": "Identifier",
                    "name": "requestId"
                   }
                  ],
                  "names": [],
                  "identifiers": []
                 }
                }
               },
               {
                "type": "InlineAssemblyStatement",
                "language": null,
                "flags": [],
                "body": {
                 "type": "AssemblyBlock",
                 "operations": [
                  {
                   "type": "AssemblyAssignment",
                   "names": [
                    {
                     "type": "Identifier",
                     "name": "contextOffset"
                    }
                   ],
                   "expression": {
                    "type": "AssemblyCall",
                    "functionName": "context",
                    "arguments": []
                   }
                  }
                 ]
                }
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "IndexAccess",
                  "base": {
                   "type": "Identifier",
                   "name": "opInfos"
                  },
                  "index": {
                   "type": "Identifier",
                   "name": "i"
                  }
                 },
                 "right": {
                  "type": "FunctionCall",
                  "expression": {
                   "type": "Identifier",
                   "name": "UserOpInfo"
                  },
                  "arguments": [
                   {
                    "type": "Identifier",
                    "name": "requestId"
                   },
                   {
                    "type": "Identifier",
                    "name": "prefund"
                   },
                   {
                    "type": "Identifier",
                    "name": "paymentMode"
                   },
                   {
                    "type": "Identifier",
                    "name": "contextOffset"
                   },
                   {
                    "type": "BinaryOperation",
                    "operator": "+",
                    "left": {
                     "type": "BinaryOperation",
                     "operator": "-",
                     "left": {
                      "type": "Identifier",
                      "name": "preGas"
                     },
                     "right": {
                      "type": "FunctionCall",
                      "expression": {
                       "type": "Identifier",
                       "name": "gasleft"
                      },
                      "arguments": [],
                      "names": [],
                      "identifiers": []
                     }
                    },
                    "right": {
                     "type": "MemberAccess",
                     "expression": {
                      "type": "Identifier",
                      "name": "op"
                     },
                     "memberName": "preVerificationGas"
                    }
                   }
                  ],
                  "names": [],
                  "identifiers": []
                 }
                }
               }
              ]
             }
            },
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint",
                "stateMutability": null
               },
               "name": "collected",
               "identifier": {
                "type": "Identifier",
                "name": "collected"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "NumberLiteral",
              "number": "0",
              "subdenomination": null
             }
            },
            {
             "type": "ForStatement",
             "initExpression": {
              "type": "VariableDeclarationStatement",
              "variables": [
               {
                "type": "VariableDeclaration",
                "typeName": {
                 "type": "ElementaryTypeName",
                 "name": "uint",
                 "stateMutability": null
                },
                "name": "i",
                "identifier": {
                 "type": "Identifier",
                 "name": "i"
                },
                "storageLocation": null,
                "isStateVar": false,
                "isIndexed": false,
                "expression": null
               }
              ],
              "initialValue": {
               "type": "NumberLiteral",
               "number": "0",
               "subdenomination": null
              }
             },
             "conditionExpression": {
              "type": "BinaryOperation",
              "operator": "<",
              "left": {
               "type": "Identifier",
               "name": "i"
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "ops"
               },
               "memberName": "length"
              }
             },
             "loopExpression": {
              "type": "ExpressionStatement",
              "expression": {
               "type": "UnaryOperation",
               "operator": "++",
               "subExpression": {
                "type": "Identifier",
                "name": "i"
               },
               "isPrefix": false
              }
             },
             "body": {
              "type": "Block",
              "statements": [
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "uint",
                   "stateMutability": null
                  },
                  "name": "preGas",
                  "identifier": {
                   "type": "Identifier",
                   "name": "preGas"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "gasleft"
                 },
                 "arguments": [],
                 "names": [],
                 "identifiers": []
                }
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "UserDefinedTypeName",
                   "namePath": "UserOperation"
                  },
                  "name": "op",
                  "identifier": {
                   "type": "Identifier",
                   "name": "op"
                  },
                  "storageLocation": "calldata",
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "IndexAccess",
                 "base": {
                  "type": "Identifier",
                  "name": "ops"
                 },
                 "index": {
                  "type": "Identifier",
                  "name": "i"
                 }
                }
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "UserDefinedTypeName",
                   "namePath": "UserOpInfo"
                  },
                  "name": "opInfo",
                  "identifier": {
                   "type": "Identifier",
                   "name": "opInfo"
                  },
                  "storageLocation": "memory",
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "IndexAccess",
                 "base": {
                  "type": "Identifier",
                  "name": "opInfos"
                 },
                 "index": {
                  "type": "Identifier",
                  "name": "i"
                 }
                }
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "uint",
                   "stateMutability": null
                  },
                  "name": "contextOffset",
                  "identifier": {
                   "type": "Identifier",
                   "name": "contextOffset"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "MemberAccess",
                 "expression": {
                  "type": "Identifier",
                  "name": "opInfo"
                 },
                 "memberName": "_context"
                }
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "bytes",
                   "stateMutability": null
                  },
                  "name": "context",
                  "identifier": {
                   "type": "Identifier",
                   "name": "context"
                  },
                  "storageLocation": "memory",
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": null
               },
               {
                "type": "InlineAssemblyStatement",
                "language": null,
                "flags": [],
                "body": {
                 "type": "AssemblyBlock",
                 "operations": [
                  {
                   "type": "AssemblyAssignment",
                   "names": [
                    {
                     "type": "Identifier",
                     "name": "context"
                    }
                   ],
                   "expression": {
                    "type": "AssemblyCall",
                    "functionName": "contextOffset",
                    "arguments": []
                   }
                  }
                 ]
                }
               },
               {
                "type": "TryStatement",
                "expression": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "this"
                  },
                  "memberName": "internalHandleOp"
                 },
                 "arguments": [
                  {
                   "type": "Identifier",
                   "name": "op"
                  },
                  {
                   "type": "Identifier",
                   "name": "opInfo"
                  },
                  {
                   "type": "Identifier",
                   "name": "context"
                  }
                 ],
                 "names": [],
                 "identifiers": []
                },
                "returnParameters": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "uint",
                   "stateMutability": null
                  },
                  "name": "_actualGasCost",
                  "identifier": {
                   "type": "Identifier",
                   "name": "_actualGasCost"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "body": {
                 "type": "Block",
                 "statements": [
                  {
                   "type": "ExpressionStatement",
                   "expression": {
                    "type": "BinaryOperation",
                    "operator": "+=",
                    "left": {
                     "type": "Identifier",
                     "name": "collected"
                    },
                    "right": {
                     "type": "Identifier",
                     "name": "_actualGasCost"
                    }
                   }
                  }
                 ]
                },
                "catchClauses": [
                 {
                  "type": "CatchClause",
                  "isReasonStringType": false,
                  "kind": null,
                  "parameters": null,
                  "body": {
                   "type": "Block",
                   "statements": [
                    {
                     "type": "VariableDeclarationStatement",
                     "variables": [
                      {
                       "type": "VariableDeclaration",
                       "typeName": {
                        "type": "ElementaryTypeName",
                        "name": "uint",
                        "stateMutability": null
                       },
                       "name": "actualGas",
                       "identifier": {
                        "type": "Identifier",
                        "name": "actualGas"
                       },
                       "storageLocation": null,
                       "isStateVar": false,
                       "isIndexed": false,
                       "expression": null
                      }
                     ],
                     "initialValue": {
                      "type": "BinaryOperation",
                      "operator": "+",
                      "left": {
                       "type": "BinaryOperation",
                       "operator": "-",
                       "left": {
                        "type": "Identifier",
                        "name": "preGas"
                       },
                       "right": {
                        "type": "FunctionCall",
                        "expression": {
                         "type": "Identifier",
                         "name": "gasleft"
                        },
                        "arguments": [],
                        "names": [],
                        "identifiers": []
                       }
                      },
                      "right": {
                       "type": "MemberAccess",
                       "expression": {
                        "type": "Identifier",
                        "name": "opInfo"
                       },
                       "memberName": "preOpGas"
                      }
                     }
                    },
                    {
                     "type": "ExpressionStatement",
                     "expression": {
                      "type": "BinaryOperation",
                      "operator": "+=",
                      "left": {
                       "type": "Identifier",
                       "name": "collected"
                      },
                      "right": {
                       "type": "FunctionCall",
                       "expression": {
                        "type": "Identifier",
                        "name": "handlePostOp"
                       },
                       "arguments": [
                        {
                         "type": "Identifier",
                         "name": "i"
                        },
                        {
                         "type": "MemberAccess",
                         "expression": {
                          "type": "MemberAccess",
                          "expression": {
                           "type": "Identifier",
                           "name": "IPaymaster"
                          },
                          "memberName": "PostOpMode"
                         },
                         "memberName": "postOpReverted"
                        },
                        {
                         "type": "Identifier",
                         "name": "op"
                        },
                        {
                         "type": "Identifier",
                         "name": "opInfo"
                        },
                        {
                         "type": "Identifier",
                         "name": "context"
                        },
                        {
                         "type": "Identifier",
                         "name": "actualGas"
                        }
                       ],
                       "names": [],
                       "identifiers": []
                      }
                     }
                    }
                   ]
                  }
                 }
                ]
               }
              ]
             }
            },
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "compensate"
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "beneficiary"
               },
               {
                "type": "Identifier",
                "name": "collected"
               }
              ],
              "names": [],
              "identifiers": []
             }
            }
           ]
          }
         }
        ]
       },
       "visibility": "public",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "StructDefinition",
       "name": "UserOpInfo",
       "members": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes32",
          "stateMutability": null
         },
         "name": "requestId",
         "identifier": {
          "type": "Identifier",
          "name": "requestId"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "prefund",
         "identifier": {
          "type": "Identifier",
          "name": "prefund"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "PaymentMode"
         },
         "name": "paymentMode",
         "identifier": {
          "type": "Identifier",
          "name": "paymentMode"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "_context",
         "identifier": {
          "type": "Identifier",
          "name": "_context"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "preOpGas",
         "identifier": {
          "type": "Identifier",
          "name": "preOpGas"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ]
      },
      {
       "type": "FunctionDefinition",
       "name": "internalHandleOp",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "op",
         "identifier": {
          "type": "Identifier",
          "name": "op"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOpInfo"
         },
         "name": "opInfo",
         "identifier": {
          "type": "Identifier",
          "name": "opInfo"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes",
          "stateMutability": null
         },
         "name": "context",
         "identifier": {
          "type": "Identifier",
          "name": "context"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "actualGasCost",
         "identifier": {
          "type": "Identifier",
          "name": "actualGasCost"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "preGas",
            "identifier": {
             "type": "Identifier",
             "name": "preGas"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "gasleft"
           },
           "arguments": [],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "require"
           },
           "arguments": [
            {
             "type": "BinaryOperation",
             "operator": "==",
             "left": {
              "type": "MemberAccess",
              "expression": {
               "type": "Identifier",
               "name": "msg"
              },
              "memberName": "sender"
             },
             "right": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "address"
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "this"
               }
              ],
              "names": [],
              "identifiers": []
             }
            }
           ],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "UserDefinedTypeName",
             "namePath": "IPaymaster.PostOpMode"
            },
            "name": "mode",
            "identifier": {
             "type": "Identifier",
             "name": "mode"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "MemberAccess",
           "expression": {
            "type": "MemberAccess",
            "expression": {
             "type": "Identifier",
             "name": "IPaymaster"
            },
            "memberName": "PostOpMode"
           },
           "memberName": "opSucceeded"
          }
         },
         {
          "type": "IfStatement",
          "condition": {
           "type": "BinaryOperation",
           "operator": ">",
           "left": {
            "type": "MemberAccess",
            "expression": {
             "type": "MemberAccess",
             "expression": {
              "type": "Identifier",
              "name": "op"
             },
             "memberName": "callData"
            },
            "memberName": "length"
           },
           "right": {
            "type": "NumberLiteral",
            "number": "0",
            "subdenomination": null
           }
          },
          "trueBody": {
           "type": "Block",
           "statements": [
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "name": "success",
               "identifier": {
                "type": "Identifier",
                "name": "success"
               },
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "bool",
                "stateMutability": null
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              },
              {
               "type": "VariableDeclaration",
               "name": "result",
               "identifier": {
                "type": "Identifier",
                "name": "result"
               },
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "bytes",
                "stateMutability": null
               },
               "storageLocation": "memory",
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "FunctionCall",
              "expression": {
               "type": "NameValueExpression",
               "expression": {
                "type": "MemberAccess",
                "expression": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "address"
                 },
                 "arguments": [
                  {
                   "type": "FunctionCall",
                   "expression": {
                    "type": "MemberAccess",
                    "expression": {
                     "type": "Identifier",
                     "name": "op"
                    },
                    "memberName": "getSender"
                   },
                   "arguments": [],
                   "names": [],
                   "identifiers": []
                  }
                 ],
                 "names": [],
                 "identifiers": []
                },
                "memberName": "call"
               },
               "arguments": {
                "type": "NameValueList",
                "names": [
                 "gas"
                ],
                "identifiers": [
                 {
                  "type": "Identifier",
                  "name": "gas"
                 }
                ],
                "arguments": [
                 {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "op"
                  },
                  "memberName": "callGas"
                 }
                ]
               }
              },
              "arguments": [
               {
                "type": "MemberAccess",
                "expression": {
                 "type": "Identifier",
                 "name": "op"
                },
                "memberName": "callData"
               }
              ],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "IfStatement",
             "condition": {
              "type": "UnaryOperation",
              "operator": "!",
              "subExpression": {
               "type": "Identifier",
               "name": "success"
              },
              "isPrefix": true
             },
             "trueBody": {
              "type": "Block",
              "statements": [
               {
                "type": "IfStatement",
                "condition": {
                 "type": "BinaryOperation",
                 "operator": ">",
                 "left": {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "result"
                  },
                  "memberName": "length"
                 },
                 "right": {
                  "type": "NumberLiteral",
                  "number": "0",
                  "subdenomination": null
                 }
                },
                "trueBody": {
                 "type": "Block",
                 "statements": [
                  {
                   "type": "EmitStatement",
                   "eventCall": {
                    "type": "FunctionCall",
                    "expression": {
                     "type": "Identifier",
                     "name": "UserOperationRevertReason"
                    },
                    "arguments": [
                     {
                      "type": "MemberAccess",
                      "expression": {
                       "type": "Identifier",
                       "name": "opInfo"
                      },
                      "memberName": "requestId"
                     },
                     {
                      "type": "FunctionCall",
                      "expression": {
                       "type": "MemberAccess",
                       "expression": {
                        "type": "Identifier",
                        "name": "op"
                       },
                       "memberName": "getSender"
                      },
                      "arguments": [],
                      "names": [],
                      "identifiers": []
                     },
                     {
                      "type": "MemberAccess",
                      "expression": {
                       "type": "Identifier",
                       "name": "op"
                      },
                      "memberName": "nonce"
                     },
                     {
                      "type": "Identifier",
                      "name": "result"
                     }
                    ],
                    "names": [],
                    "identifiers": []
                   }
                  }
                 ]
                },
                "falseBody": null
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "Identifier",
                  "name": "mode"
                 },
                 "right": {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "MemberAccess",
                   "expression": {
                    "type": "Identifier",
                    "name": "IPaymaster"
                   },
                   "memberName": "PostOpMode"
                  },
                  "memberName": "opReverted"
                 }
                }
               }
              ]
             },
             "falseBody": null
            }
           ]
          },
          "falseBody": null
         },
         {
          "type": "UncheckedStatement",
          "block": {
           "type": "Block",
           "statements": [
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint",
                "stateMutability": null
               },
               "name": "actualGas",
               "identifier": {
                "type": "Identifier",
                "name": "actualGas"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "BinaryOperation",
              "operator": "+",
              "left": {
               "type": "BinaryOperation",
               "operator": "-",
               "left": {
                "type": "Identifier",
                "name": "preGas"
               },
               "right": {
                "type": "FunctionCall",
                "expression": {
                 "type": "Identifier",
                 "name": "gasleft"
                },
                "arguments": [],
                "names": [],
                "identifiers": []
               }
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "opInfo"
               },
               "memberName": "preOpGas"
              }
             }
            },
            {
             "type": "ReturnStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "handlePostOp"
              },
              "arguments": [
               {
                "type": "NumberLiteral",
                "number": "0",
                "subdenomination": null
               },
               {
                "type": "Identifier",
                "name": "mode"
               },
               {
                "type": "Identifier",
                "name": "op"
               },
               {
                "type": "Identifier",
                "name": "opInfo"
               },
               {
                "type": "Identifier",
                "name": "context"
               },
               {
                "type": "Identifier",
                "name": "actualGas"
               }
              ],
              "names": [],
              "identifiers": []
             }
            }
           ]
          }
         }
        ]
       },
       "visibility": "external",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "getRequestId",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "userOp",
         "identifier": {
          "type": "Identifier",
          "name": "userOp"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes32",
          "stateMutability": null
         },
         "name": null,
         "identifier": null,
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "ReturnStatement",
          "expression": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "keccak256"
           },
           "arguments": [
            {
             "type": "FunctionCall",
             "expression": {
              "type": "MemberAccess",
              "expression": {
               "type": "Identifier",
               "name": "abi"
              },
              "memberName": "encode"
             },
             "arguments": [
              {
               "type": "FunctionCall",
               "expression": {
                "type": "MemberAccess",
                "expression": {
                 "type": "Identifier",
                 "name": "userOp"
                },
                "memberName": "hash"
               },
               "arguments": [],
               "names": [],
               "identifiers": []
              },
              {
               "type": "FunctionCall",
               "expression": {
                "type": "Identifier",
                "name": "address"
               },
               "arguments": [
                {
                 "type": "Identifier",
                 "name": "this"
                }
               ],
               "names": [],
               "identifiers": []
              },
              {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "block"
               },
               "memberName": "chainid"
              }
             ],
             "names": [],
             "identifiers": []
            }
           ],
           "names": [],
           "identifiers": []
          }
         }
        ]
       },
       "visibility": "public",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": "view"
      },
      {
       "type": "FunctionDefinition",
       "name": "simulateValidation",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "userOp",
         "identifier": {
          "type": "Identifier",
          "name": "userOp"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "preOpGas",
         "identifier": {
          "type": "Identifier",
          "name": "preOpGas"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "prefund",
         "identifier": {
          "type": "Identifier",
          "name": "prefund"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "preGas",
            "identifier": {
             "type": "Identifier",
             "name": "preGas"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "gasleft"
           },
           "arguments": [],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "bytes32",
             "stateMutability": null
            },
            "name": "requestId",
            "identifier": {
             "type": "Identifier",
             "name": "requestId"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "getRequestId"
           },
           "arguments": [
            {
             "type": "Identifier",
             "name": "userOp"
            }
           ],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "BinaryOperation",
           "operator": "=",
           "left": {
            "type": "TupleExpression",
            "components": [
             {
              "type": "Identifier",
              "name": "prefund"
             },
             null,
             null
            ],
            "isArray": false
           },
           "right": {
            "type": "FunctionCall",
            "expression": {
             "type": "Identifier",
             "name": "_validatePrepayment"
            },
            "arguments": [
             {
              "type": "NumberLiteral",
              "number": "0",
              "subdenomination": null
             },
             {
              "type": "Identifier",
              "name": "userOp"
             },
             {
              "type": "Identifier",
              "name": "requestId"
             }
            ],
            "names": [],
            "identifiers": []
           }
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "BinaryOperation",
           "operator": "=",
           "left": {
            "type": "Identifier",
            "name": "preOpGas"
           },
           "right": {
            "type": "BinaryOperation",
            "operator": "+",
            "left": {
             "type": "BinaryOperation",
             "operator": "-",
             "left": {
              "type": "Identifier",
              "name": "preGas"
             },
             "right": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "gasleft"
              },
              "arguments": [],
              "names": [],
              "identifiers": []
             }
            },
            "right": {
             "type": "MemberAccess",
             "expression": {
              "type": "Identifier",
              "name": "userOp"
             },
             "memberName": "preVerificationGas"
            }
           }
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "require"
           },
           "arguments": [
            {
             "type": "BinaryOperation",
             "operator": "==",
             "left": {
              "type": "MemberAccess",
              "expression": {
               "type": "Identifier",
               "name": "msg"
              },
              "memberName": "sender"
             },
             "right": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "address"
              },
              "arguments": [
               {
                "type": "NumberLiteral",
                "number": "0",
                "subdenomination": null
               }
              ],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "StringLiteral",
             "value": "must be called off-chain with from=zero-addr",
             "parts": [
              "must be called off-chain with from=zero-addr"
             ],
             "isUnicode": [
              false
             ]
            }
           ],
           "names": [],
           "identifiers": []
          }
         }
        ]
       },
       "visibility": "external",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "_getPaymentInfo",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "userOp",
         "identifier": {
          "type": "Identifier",
          "name": "userOp"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "requiredPrefund",
         "identifier": {
          "type": "Identifier",
          "name": "requiredPrefund"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "PaymentMode"
         },
         "name": "paymentMode",
         "identifier": {
          "type": "Identifier",
          "name": "paymentMode"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "BinaryOperation",
           "operator": "=",
           "left": {
            "type": "Identifier",
            "name": "requiredPrefund"
           },
           "right": {
            "type": "FunctionCall",
            "expression": {
             "type": "MemberAccess",
             "expression": {
              "type": "Identifier",
              "name": "userOp"
             },
             "memberName": "requiredPreFund"
            },
            "arguments": [],
            "names": [],
            "identifiers": []
           }
          }
         },
         {
          "type": "IfStatement",
          "condition": {
           "type": "FunctionCall",
           "expression": {
            "type": "MemberAccess",
            "expression": {
             "type": "Identifier",
             "name": "userOp"
            },
            "memberName": "hasPaymaster"
           },
           "arguments": [],
           "names": [],
           "identifiers": []
          },
          "trueBody": {
           "type": "Block",
           "statements": [
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "BinaryOperation",
              "operator": "=",
              "left": {
               "type": "Identifier",
               "name": "paymentMode"
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "PaymentMode"
               },
               "memberName": "paymasterStake"
              }
             }
            }
           ]
          },
          "falseBody": {
           "type": "Block",
           "statements": [
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "BinaryOperation",
              "operator": "=",
              "left": {
               "type": "Identifier",
               "name": "paymentMode"
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "PaymentMode"
               },
               "memberName": "walletStake"
              }
             }
            }
           ]
          }
         }
        ]
       },
       "visibility": "internal",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": "view"
      },
      {
       "type": "FunctionDefinition",
       "name": "_createSenderIfNeeded",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "op",
         "identifier": {
          "type": "Identifier",
          "name": "op"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": null,
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "IfStatement",
          "condition": {
           "type": "BinaryOperation",
           "operator": "!=",
           "left": {
            "type": "MemberAccess",
            "expression": {
             "type": "MemberAccess",
             "expression": {
              "type": "Identifier",
              "name": "op"
             },
             "memberName": "initCode"
            },
            "memberName": "length"
           },
           "right": {
            "type": "NumberLiteral",
            "number": "0",
            "subdenomination": null
           }
          },
          "trueBody": {
           "type": "Block",
           "statements": [
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "address",
                "stateMutability": null
               },
               "name": "sender1",
               "identifier": {
                "type": "Identifier",
                "name": "sender1"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "FunctionCall",
              "expression": {
               "type": "MemberAccess",
               "expression": {
                "type": "FunctionCall",
                "expression": {
                 "type": "Identifier",
                 "name": "ICreate2Deployer"
                },
                "arguments": [
                 {
                  "type": "Identifier",
                  "name": "create2factory"
                 }
                ],
                "names": [],
                "identifiers": []
               },
               "memberName": "deploy"
              },
              "arguments": [
               {
                "type": "MemberAccess",
                "expression": {
                 "type": "Identifier",
                 "name": "op"
                },
                "memberName": "initCode"
               },
               {
                "type": "FunctionCall",
                "expression": {
                 "type": "ElementaryTypeName",
                 "name": "bytes32",
                 "stateMutability": null
                },
                "arguments": [
                 {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "op"
                  },
                  "memberName": "nonce"
                 }
                ],
                "names": [],
                "identifiers": []
               }
              ],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "require"
              },
              "arguments": [
               {
                "type": "BinaryOperation",
                "operator": "!=",
                "left": {
                 "type": "Identifier",
                 "name": "sender1"
                },
                "right": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "address"
                 },
                 "arguments": [
                  {
                   "type": "NumberLiteral",
                   "number": "0",
                   "subdenomination": null
                  }
                 ],
                 "names": [],
                 "identifiers": []
                }
               },
               {
                "type": "StringLiteral",
                "value": "create2 failed",
                "parts": [
                 "create2 failed"
                ],
                "isUnicode": [
                 false
                ]
               }
              ],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "require"
              },
              "arguments": [
               {
                "type": "BinaryOperation",
                "operator": "==",
                "left": {
                 "type": "Identifier",
                 "name": "sender1"
                },
                "right": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "op"
                  },
                  "memberName": "getSender"
                 },
                 "arguments": [],
                 "names": [],
                 "identifiers": []
                }
               },
               {
                "type": "StringLiteral",
                "value": "sender doesn't match create2 address",
                "parts": [
                 "sender doesn't match create2 address"
                ],
                "isUnicode": [
                 false
                ]
               }
              ],
              "names": [],
              "identifiers": []
             }
            }
           ]
          },
          "falseBody": null
         }
        ]
       },
       "visibility": "internal",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "getSenderAddress",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes",
          "stateMutability": null
         },
         "name": "initCode",
         "identifier": {
          "type": "Identifier",
          "name": "initCode"
         },
         "storageLocation": "memory",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "_salt",
         "identifier": {
          "type": "Identifier",
          "name": "_salt"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": null,
         "identifier": null,
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "bytes32",
             "stateMutability": null
            },
            "name": "hash",
            "identifier": {
             "type": "Identifier",
             "name": "hash"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "keccak256"
           },
           "arguments": [
            {
             "type": "FunctionCall",
             "expression": {
              "type": "MemberAccess",
              "expression": {
               "type": "Identifier",
               "name": "abi"
              },
              "memberName": "encodePacked"
             },
             "arguments": [
              {
               "type": "FunctionCall",
               "expression": {
                "type": "ElementaryTypeName",
                "name": "bytes1",
                "stateMutability": null
               },
               "arguments": [
                {
                 "type": "NumberLiteral",
                 "number": "0xff",
                 "subdenomination": null
                }
               ],
               "names": [],
               "identifiers": []
              },
              {
               "type": "FunctionCall",
               "expression": {
                "type": "Identifier",
                "name": "address"
               },
               "arguments": [
                {
                 "type": "Identifier",
                 "name": "create2factory"
                }
               ],
               "names": [],
               "identifiers": []
              },
              {
               "type": "Identifier",
               "name": "_salt"
              },
              {
               "type": "FunctionCall",
               "expression": {
                "type": "Identifier",
                "name": "keccak256"
               },
               "arguments": [
                {
                 "type": "Identifier",
                 "name": "initCode"
                }
               ],
               "names": [],
               "identifiers": []
              }
             ],
             "names": [],
             "identifiers": []
            }
           ],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "ReturnStatement",
          "expression": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "address"
           },
           "arguments": [
            {
             "type": "FunctionCall",
             "expression": {
              "type": "ElementaryTypeName",
              "name": "uint160",
              "stateMutability": null
             },
             "arguments": [
              {
               "type": "FunctionCall",
               "expression": {
                "type": "ElementaryTypeName",
                "name": "uint256",
                "stateMutability": null
               },
               "arguments": [
                {
                 "type": "Identifier",
                 "name": "hash"
                }
               ],
               "names": [],
               "identifiers": []
              }
             ],
             "names": [],
             "identifiers": []
            }
           ],
           "names": [],
           "identifiers": []
          }
         }
        ]
       },
       "visibility": "public",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": "view"
      },
      {
       "type": "FunctionDefinition",
       "name": "_validateWalletPrepayment",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "opIndex",
         "identifier": {
          "type": "Identifier",
          "name": "opIndex"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "op",
         "identifier": {
          "type": "Identifier",
          "name": "op"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes32",
          "stateMutability": null
         },
         "name": "requestId",
         "identifier": {
          "type": "Identifier",
          "name": "requestId"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "requiredPrefund",
         "identifier": {
          "type": "Identifier",
          "name": "requiredPrefund"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "PaymentMode"
         },
         "name": "paymentMode",
         "identifier": {
          "type": "Identifier",
          "name": "paymentMode"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "gasUsedByValidateUserOp",
         "identifier": {
          "type": "Identifier",
          "name": "gasUsedByValidateUserOp"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "prefund",
         "identifier": {
          "type": "Identifier",
          "name": "prefund"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "UncheckedStatement",
          "block": {
           "type": "Block",
           "statements": [
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint",
                "stateMutability": null
               },
               "name": "preGas",
               "identifier": {
                "type": "Identifier",
                "name": "preGas"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "gasleft"
              },
              "arguments": [],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "_createSenderIfNeeded"
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "op"
               }
              ],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint",
                "stateMutability": null
               },
               "name": "missingWalletFunds",
               "identifier": {
                "type": "Identifier",
                "name": "missingWalletFunds"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "NumberLiteral",
              "number": "0",
              "subdenomination": null
             }
            },
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "address",
                "stateMutability": null
               },
               "name": "sender",
               "identifier": {
                "type": "Identifier",
                "name": "sender"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "FunctionCall",
              "expression": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "op"
               },
               "memberName": "getSender"
              },
              "arguments": [],
              "names": [],
              "identifiers": []
             }
            },
            {
             "type": "IfStatement",
             "condition": {
              "type": "BinaryOperation",
              "operator": "!=",
              "left": {
               "type": "Identifier",
               "name": "paymentMode"
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "PaymentMode"
               },
               "memberName": "paymasterStake"
              }
             },
             "trueBody": {
              "type": "Block",
              "statements": [
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "uint",
                   "stateMutability": null
                  },
                  "name": "bal",
                  "identifier": {
                   "type": "Identifier",
                   "name": "bal"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "balanceOf"
                 },
                 "arguments": [
                  {
                   "type": "Identifier",
                   "name": "sender"
                  }
                 ],
                 "names": [],
                 "identifiers": []
                }
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "Identifier",
                  "name": "missingWalletFunds"
                 },
                 "right": {
                  "type": "Conditional",
                  "condition": {
                   "type": "BinaryOperation",
                   "operator": ">",
                   "left": {
                    "type": "Identifier",
                    "name": "bal"
                   },
                   "right": {
                    "type": "Identifier",
                    "name": "requiredPrefund"
                   }
                  },
                  "trueExpression": {
                   "type": "NumberLiteral",
                   "number": "0",
                   "subdenomination": null
                  },
                  "falseExpression": {
                   "type": "BinaryOperation",
                   "operator": "-",
                   "left": {
                    "type": "Identifier",
                    "name": "requiredPrefund"
                   },
                   "right": {
                    "type": "Identifier",
                    "name": "bal"
                   }
                  }
                 }
                }
               }
              ]
             },
             "falseBody": null
            },
            {
             "type": "TryStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "NameValueExpression",
               "expression": {
                "type": "MemberAccess",
                "expression": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "IWallet"
                 },
                 "arguments": [
                  {
                   "type": "Identifier",
                   "name": "sender"
                  }
                 ],
                 "names": [],
                 "identifiers": []
                },
                "memberName": "validateUserOp"
               },
               "arguments": {
                "type": "NameValueList",
                "names": [
                 "gas"
                ],
                "identifiers": [
                 {
                  "type": "Identifier",
                  "name": "gas"
                 }
                ],
                "arguments": [
                 {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "op"
                  },
                  "memberName": "verificationGas"
                 }
                ]
               }
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "op"
               },
               {
                "type": "Identifier",
                "name": "requestId"
               },
               {
                "type": "Identifier",
                "name": "missingWalletFunds"
               }
              ],
              "names": [],
              "identifiers": []
             },
             "returnParameters": null,
             "body": {
              "type": "Block",
              "statements": []
             },
             "catchClauses": [
              {
               "type": "CatchClause",
               "isReasonStringType": true,
               "kind": "Error",
               "parameters": [
                {
                 "type": "VariableDeclaration",
                 "typeName": {
                  "type": "ElementaryTypeName",
                  "name": "string",
                  "stateMutability": null
                 },
                 "name": "revertReason",
                 "identifier": {
                  "type": "Identifier",
                  "name": "revertReason"
                 },
                 "storageLocation": "memory",
                 "isStateVar": false,
                 "isIndexed": false,
                 "expression": null
                }
               ],
               "body": {
                "type": "Block",
                "statements": [
                 {
                  "type": "RevertStatement",
                  "revertCall": {
                   "type": "FunctionCall",
                   "expression": {
                    "type": "Identifier",
                    "name": "FailedOp"
                   },
                   "arguments": [
                    {
                     "type": "Identifier",
                     "name": "opIndex"
                    },
                    {
                     "type": "FunctionCall",
                     "expression": {
                      "type": "Identifier",
                      "name": "address"
                     },
                     "arguments": [
                      {
                       "type": "NumberLiteral",
                       "number": "0",
                       "subdenomination": null
                      }
                     ],
                     "names": [],
                     "identifiers": []
                    },
                    {
                     "type": "Identifier",
                     "name": "revertReason"
                    }
                   ],
                   "names": [],
                   "identifiers": []
                  }
                 }
                ]
               }
              },
              {
               "type": "CatchClause",
               "isReasonStringType": false,
               "kind": null,
               "parameters": null,
               "body": {
                "type": "Block",
                "statements": [
                 {
                  "type": "RevertStatement",
                  "revertCall": {
                   "type": "FunctionCall",
                   "expression": {
                    "type": "Identifier",
                    "name": "FailedOp"
                   },
                   "arguments": [
                    {
                     "type": "Identifier",
                     "name": "opIndex"
                    },
                    {
                     "type": "FunctionCall",
                     "expression": {
                      "type": "Identifier",
                      "name": "address"
                     },
                     "arguments": [
                      {
                       "type": "NumberLiteral",
                       "number": "0",
                       "subdenomination": null
                      }
                     ],
                     "names": [],
                     "identifiers": []
                    },
                    {
                     "type": "StringLiteral",
                     "value": "",
                     "parts": [
                      ""
                     ],
                     "isUnicode": [
                      false
                     ]
                    }
                   ],
                   "names": [],
                   "identifiers": []
                  }
                 }
                ]
               }
              }
             ]
            },
            {
             "type": "IfStatement",
             "condition": {
              "type": "BinaryOperation",
              "operator": "!=",
              "left": {
               "type": "Identifier",
               "name": "paymentMode"
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "PaymentMode"
               },
               "memberName": "paymasterStake"
              }
             },
             "trueBody": {
              "type": "Block",
              "statements": [
               {
                "type": "IfStatement",
                "condition": {
                 "type": "BinaryOperation",
                 "operator": ">",
                 "left": {
                  "type": "Identifier",
                  "name": "requiredPrefund"
                 },
                 "right": {
                  "type": "FunctionCall",
                  "expression": {
                   "type": "Identifier",
                   "name": "balanceOf"
                  },
                  "arguments": [
                   {
                    "type": "Identifier",
                    "name": "sender"
                   }
                  ],
                  "names": [],
                  "identifiers": []
                 }
                },
                "trueBody": {
                 "type": "Block",
                 "statements": [
                  {
                   "type": "RevertStatement",
                   "revertCall": {
                    "type": "FunctionCall",
                    "expression": {
                     "type": "Identifier",
                     "name": "FailedOp"
                    },
                    "arguments": [
                     {
                      "type": "Identifier",
                      "name": "opIndex"
                     },
                     {
                      "type": "FunctionCall",
                      "expression": {
                       "type": "Identifier",
                       "name": "address"
                      },
                      "arguments": [
                       {
                        "type": "NumberLiteral",
                        "number": "0",
                        "subdenomination": null
                       }
                      ],
                      "names": [],
                      "identifiers": []
                     },
                     {
                      "type": "StringLiteral",
                      "value": "wallet didn't pay prefund",
                      "parts": [
                       "wallet didn't pay prefund"
                      ],
                      "isUnicode": [
                       false
                      ]
                     }
                    ],
                    "names": [],
                    "identifiers": []
                   }
                  }
                 ]
                },
                "falseBody": null
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "internalDecrementDeposit"
                 },
                 "arguments": [
                  {
                   "type": "Identifier",
                   "name": "sender"
                  },
                  {
                   "type": "Identifier",
                   "name": "requiredPrefund"
                  }
                 ],
                 "names": [],
                 "identifiers": []
                }
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "Identifier",
                  "name": "prefund"
                 },
                 "right": {
                  "type": "Identifier",
                  "name": "requiredPrefund"
                 }
                }
               }
              ]
             },
             "falseBody": {
              "type": "Block",
              "statements": [
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "Identifier",
                  "name": "prefund"
                 },
                 "right": {
                  "type": "NumberLiteral",
                  "number": "0",
                  "subdenomination": null
                 }
                }
               }
              ]
             }
            },
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "BinaryOperation",
              "operator": "=",
              "left": {
               "type": "Identifier",
               "name": "gasUsedByValidateUserOp"
              },
              "right": {
               "type": "BinaryOperation",
               "operator": "-",
               "left": {
                "type": "Identifier",
                "name": "preGas"
               },
               "right": {
                "type": "FunctionCall",
                "expression": {
                 "type": "Identifier",
                 "name": "gasleft"
                },
                "arguments": [],
                "names": [],
                "identifiers": []
               }
              }
             }
            }
           ]
          }
         }
        ]
       },
       "visibility": "internal",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "_validatePaymasterPrepayment",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "opIndex",
         "identifier": {
          "type": "Identifier",
          "name": "opIndex"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "op",
         "identifier": {
          "type": "Identifier",
          "name": "op"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes32",
          "stateMutability": null
         },
         "name": "requestId",
         "identifier": {
          "type": "Identifier",
          "name": "requestId"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "requiredPreFund",
         "identifier": {
          "type": "Identifier",
          "name": "requiredPreFund"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "gasUsedByValidateUserOp",
         "identifier": {
          "type": "Identifier",
          "name": "gasUsedByValidateUserOp"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes",
          "stateMutability": null
         },
         "name": "context",
         "identifier": {
          "type": "Identifier",
          "name": "context"
         },
         "storageLocation": "memory",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "UncheckedStatement",
          "block": {
           "type": "Block",
           "statements": [
            {
             "type": "IfStatement",
             "condition": {
              "type": "UnaryOperation",
              "operator": "!",
              "subExpression": {
               "type": "FunctionCall",
               "expression": {
                "type": "Identifier",
                "name": "isPaymasterStaked"
               },
               "arguments": [
                {
                 "type": "MemberAccess",
                 "expression": {
                  "type": "Identifier",
                  "name": "op"
                 },
                 "memberName": "paymaster"
                },
                {
                 "type": "BinaryOperation",
                 "operator": "+",
                 "left": {
                  "type": "Identifier",
                  "name": "paymasterStake"
                 },
                 "right": {
                  "type": "Identifier",
                  "name": "requiredPreFund"
                 }
                }
               ],
               "names": [],
               "identifiers": []
              },
              "isPrefix": true
             },
             "trueBody": {
              "type": "Block",
              "statements": [
               {
                "type": "RevertStatement",
                "revertCall": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "FailedOp"
                 },
                 "arguments": [
                  {
                   "type": "Identifier",
                   "name": "opIndex"
                  },
                  {
                   "type": "MemberAccess",
                   "expression": {
                    "type": "Identifier",
                    "name": "op"
                   },
                   "memberName": "paymaster"
                  },
                  {
                   "type": "StringLiteral",
                   "value": "not enough stake",
                   "parts": [
                    "not enough stake"
                   ],
                   "isUnicode": [
                    false
                   ]
                  }
                 ],
                 "names": [],
                 "identifiers": []
                }
               }
              ]
             },
             "falseBody": null
            },
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint",
                "stateMutability": null
               },
               "name": "gas",
               "identifier": {
                "type": "Identifier",
                "name": "gas"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "BinaryOperation",
              "operator": "-",
              "left": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "op"
               },
               "memberName": "verificationGas"
              },
              "right": {
               "type": "Identifier",
               "name": "gasUsedByValidateUserOp"
              }
             }
            },
            {
             "type": "TryStatement",
             "expression": {
              "type": "FunctionCall",
              "expression": {
               "type": "NameValueExpression",
               "expression": {
                "type": "MemberAccess",
                "expression": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "IPaymaster"
                 },
                 "arguments": [
                  {
                   "type": "MemberAccess",
                   "expression": {
                    "type": "Identifier",
                    "name": "op"
                   },
                   "memberName": "paymaster"
                  }
                 ],
                 "names": [],
                 "identifiers": []
                },
                "memberName": "validatePaymasterUserOp"
               },
               "arguments": {
                "type": "NameValueList",
                "names": [
                 "gas"
                ],
                "identifiers": [
                 {
                  "type": "Identifier",
                  "name": "gas"
                 }
                ],
                "arguments": [
                 {
                  "type": "Identifier",
                  "name": "gas"
                 }
                ]
               }
              },
              "arguments": [
               {
                "type": "Identifier",
                "name": "op"
               },
               {
                "type": "Identifier",
                "name": "requestId"
               },
               {
                "type": "Identifier",
                "name": "requiredPreFund"
               }
              ],
              "names": [],
              "identifiers": []
             },
             "returnParameters": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "bytes",
                "stateMutability": null
               },
               "name": "_context",
               "identifier": {
                "type": "Identifier",
                "name": "_context"
               },
               "storageLocation": "memory",
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "body": {
              "type": "Block",
              "statements": [
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "Identifier",
                  "name": "context"
                 },
                 "right": {
                  "type": "Identifier",
                  "name": "_context"
                 }
                }
               }
              ]
             },
             "catchClauses": [
              {
               "type": "CatchClause",
               "isReasonStringType": true,
               "kind": "Error",
               "parameters": [
                {
                 "type": "VariableDeclaration",
                 "typeName": {
                  "type": "ElementaryTypeName",
                  "name": "string",
                  "stateMutability": null
                 },
                 "name": "revertReason",
                 "identifier": {
                  "type": "Identifier",
                  "name": "revertReason"
                 },
                 "storageLocation": "memory",
                 "isStateVar": false,
                 "isIndexed": false,
                 "expression": null
                }
               ],
               "body": {
                "type": "Block",
                "statements": [
                 {
                  "type": "RevertStatement",
                  "revertCall": {
                   "type": "FunctionCall",
                   "expression": {
                    "type": "Identifier",
                    "name": "FailedOp"
                   },
                   "arguments": [
                    {
                     "type": "Identifier",
                     "name": "opIndex"
                    },
                    {
                     "type": "MemberAccess",
                     "expression": {
                      "type": "Identifier",
                      "name": "op"
                     },
                     "memberName": "paymaster"
                    },
                    {
                     "type": "Identifier",
                     "name": "revertReason"
                    }
                   ],
                   "names": [],
                   "identifiers": []
                  }
                 }
                ]
               }
              },
              {
               "type": "CatchClause",
               "isReasonStringType": false,
               "kind": null,
               "parameters": null,
               "body": {
                "type": "Block",
                "statements": [
                 {
                  "type": "RevertStatement",
                  "revertCall": {
                   "type": "FunctionCall",
                   "expression": {
                    "type": "Identifier",
                    "name": "FailedOp"
                   },
                   "arguments": [
                    {
                     "type": "Identifier",
                     "name": "opIndex"
                    },
                    {
                     "type": "MemberAccess",
                     "expression": {
                      "type": "Identifier",
                      "name": "op"
                     },
                     "memberName": "paymaster"
                    },
                    {
                     "type": "StringLiteral",
                     "value": "",
                     "parts": [
                      ""
                     ],
                     "isUnicode": [
                      false
                     ]
                    }
                   ],
                   "names": [],
                   "identifiers": []
                  }
                 }
                ]
               }
              }
             ]
            }
           ]
          }
         }
        ]
       },
       "visibility": "internal",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": "view"
      },
      {
       "type": "FunctionDefinition",
       "name": "_validatePrepayment",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "opIndex",
         "identifier": {
          "type": "Identifier",
          "name": "opIndex"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "userOp",
         "identifier": {
          "type": "Identifier",
          "name": "userOp"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes32",
          "stateMutability": null
         },
         "name": "requestId",
         "identifier": {
          "type": "Identifier",
          "name": "requestId"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "prefund",
         "identifier": {
          "type": "Identifier",
          "name": "prefund"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "PaymentMode"
         },
         "name": "paymentMode",
         "identifier": {
          "type": "Identifier",
          "name": "paymentMode"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes",
          "stateMutability": null
         },
         "name": "context",
         "identifier": {
          "type": "Identifier",
          "name": "context"
         },
         "storageLocation": "memory",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "preGas",
            "identifier": {
             "type": "Identifier",
             "name": "preGas"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "gasleft"
           },
           "arguments": [],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "maxGasValues",
            "identifier": {
             "type": "Identifier",
             "name": "maxGasValues"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "BinaryOperation",
           "operator": "|",
           "left": {
            "type": "BinaryOperation",
            "operator": "|",
            "left": {
             "type": "BinaryOperation",
             "operator": "|",
             "left": {
              "type": "BinaryOperation",
              "operator": "|",
              "left": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "userOp"
               },
               "memberName": "preVerificationGas"
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "userOp"
               },
               "memberName": "verificationGas"
              }
             },
             "right": {
              "type": "MemberAccess",
              "expression": {
               "type": "Identifier",
               "name": "userOp"
              },
              "memberName": "callGas"
             }
            },
            "right": {
             "type": "MemberAccess",
             "expression": {
              "type": "Identifier",
              "name": "userOp"
             },
             "memberName": "maxFeePerGas"
            }
           },
           "right": {
            "type": "MemberAccess",
            "expression": {
             "type": "Identifier",
             "name": "userOp"
            },
            "memberName": "maxPriorityFeePerGas"
           }
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "require"
           },
           "arguments": [
            {
             "type": "BinaryOperation",
             "operator": "<",
             "left": {
              "type": "Identifier",
              "name": "maxGasValues"
             },
             "right": {
              "type": "MemberAccess",
              "expression": {
               "type": "FunctionCall",
               "expression": {
                "type": "Identifier",
                "name": "type"
               },
               "arguments": [
                {
                 "type": "ElementaryTypeName",
                 "name": "uint120",
                 "stateMutability": null
                }
               ],
               "names": [],
               "identifiers": []
              },
              "memberName": "max"
             }
            },
            {
             "type": "StringLiteral",
             "value": "gas values overflow",
             "parts": [
              "gas values overflow"
             ],
             "isUnicode": [
              false
             ]
            }
           ],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "gasUsedByValidateUserOp",
            "identifier": {
             "type": "Identifier",
             "name": "gasUsedByValidateUserOp"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": null
         },
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "requiredPreFund",
            "identifier": {
             "type": "Identifier",
             "name": "requiredPreFund"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": null
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "BinaryOperation",
           "operator": "=",
           "left": {
            "type": "TupleExpression",
            "components": [
             {
              "type": "Identifier",
              "name": "requiredPreFund"
             },
             {
              "type": "Identifier",
              "name": "paymentMode"
             }
            ],
            "isArray": false
           },
           "right": {
            "type": "FunctionCall",
            "expression": {
             "type": "Identifier",
             "name": "_getPaymentInfo"
            },
            "arguments": [
             {
              "type": "Identifier",
              "name": "userOp"
             }
            ],
            "names": [],
            "identifiers": []
           }
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "BinaryOperation",
           "operator": "=",
           "left": {
            "type": "TupleExpression",
            "components": [
             {
              "type": "Identifier",
              "name": "gasUsedByValidateUserOp"
             },
             {
              "type": "Identifier",
              "name": "prefund"
             }
            ],
            "isArray": false
           },
           "right": {
            "type": "FunctionCall",
            "expression": {
             "type": "Identifier",
             "name": "_validateWalletPrepayment"
            },
            "arguments": [
             {
              "type": "Identifier",
              "name": "opIndex"
             },
             {
              "type": "Identifier",
              "name": "userOp"
             },
             {
              "type": "Identifier",
              "name": "requestId"
             },
             {
              "type": "Identifier",
              "name": "requiredPreFund"
             },
             {
              "type": "Identifier",
              "name": "paymentMode"
             }
            ],
            "names": [],
            "identifiers": []
           }
          }
         },
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "marker",
            "identifier": {
             "type": "Identifier",
             "name": "marker"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "MemberAccess",
           "expression": {
            "type": "Identifier",
            "name": "block"
           },
           "memberName": "number"
          }
         },
         {
          "type": "ExpressionStatement",
          "expression": {
           "type": "TupleExpression",
           "components": [
            {
             "type": "Identifier",
             "name": "marker"
            }
           ],
           "isArray": false
          }
         },
         {
          "type": "IfStatement",
          "condition": {
           "type": "BinaryOperation",
           "operator": "==",
           "left": {
            "type": "Identifier",
            "name": "paymentMode"
           },
           "right": {
            "type": "MemberAccess",
            "expression": {
             "type": "Identifier",
             "name": "PaymentMode"
            },
            "memberName": "paymasterStake"
           }
          },
          "trueBody": {
           "type": "Block",
           "statements": [
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "BinaryOperation",
              "operator": "=",
              "left": {
               "type": "TupleExpression",
               "components": [
                {
                 "type": "Identifier",
                 "name": "context"
                }
               ],
               "isArray": false
              },
              "right": {
               "type": "FunctionCall",
               "expression": {
                "type": "Identifier",
                "name": "_validatePaymasterPrepayment"
               },
               "arguments": [
                {
                 "type": "Identifier",
                 "name": "opIndex"
                },
                {
                 "type": "Identifier",
                 "name": "userOp"
                },
                {
                 "type": "Identifier",
                 "name": "requestId"
                },
                {
                 "type": "Identifier",
                 "name": "requiredPreFund"
                },
                {
                 "type": "Identifier",
                 "name": "gasUsedByValidateUserOp"
                }
               ],
               "names": [],
               "identifiers": []
              }
             }
            }
           ]
          },
          "falseBody": {
           "type": "Block",
           "statements": [
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "BinaryOperation",
              "operator": "=",
              "left": {
               "type": "Identifier",
               "name": "context"
              },
              "right": {
               "type": "StringLiteral",
               "value": "",
               "parts": [
                ""
               ],
               "isUnicode": [
                false
               ]
              }
             }
            }
           ]
          }
         },
         {
          "type": "UncheckedStatement",
          "block": {
           "type": "Block",
           "statements": [
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "uint",
                "stateMutability": null
               },
               "name": "gasUsed",
               "identifier": {
                "type": "Identifier",
                "name": "gasUsed"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "BinaryOperation",
              "operator": "-",
              "left": {
               "type": "Identifier",
               "name": "preGas"
              },
              "right": {
               "type": "FunctionCall",
               "expression": {
                "type": "Identifier",
                "name": "gasleft"
               },
               "arguments": [],
               "names": [],
               "identifiers": []
              }
             }
            },
            {
             "type": "IfStatement",
             "condition": {
              "type": "BinaryOperation",
              "operator": "<",
              "left": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "userOp"
               },
               "memberName": "verificationGas"
              },
              "right": {
               "type": "Identifier",
               "name": "gasUsed"
              }
             },
             "trueBody": {
              "type": "Block",
              "statements": [
               {
                "type": "RevertStatement",
                "revertCall": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "FailedOp"
                 },
                 "arguments": [
                  {
                   "type": "Identifier",
                   "name": "opIndex"
                  },
                  {
                   "type": "MemberAccess",
                   "expression": {
                    "type": "Identifier",
                    "name": "userOp"
                   },
                   "memberName": "paymaster"
                  },
                  {
                   "type": "StringLiteral",
                   "value": "Used more than verificationGas",
                   "parts": [
                    "Used more than verificationGas"
                   ],
                   "isUnicode": [
                    false
                   ]
                  }
                 ],
                 "names": [],
                 "identifiers": []
                }
               }
              ]
             },
             "falseBody": null
            }
           ]
          }
         }
        ]
       },
       "visibility": "private",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "handlePostOp",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "opIndex",
         "identifier": {
          "type": "Identifier",
          "name": "opIndex"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "IPaymaster.PostOpMode"
         },
         "name": "mode",
         "identifier": {
          "type": "Identifier",
          "name": "mode"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOperation"
         },
         "name": "op",
         "identifier": {
          "type": "Identifier",
          "name": "op"
         },
         "storageLocation": "calldata",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "UserDefinedTypeName",
          "namePath": "UserOpInfo"
         },
         "name": "opInfo",
         "identifier": {
          "type": "Identifier",
          "name": "opInfo"
         },
         "storageLocation": "memory",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bytes",
          "stateMutability": null
         },
         "name": "context",
         "identifier": {
          "type": "Identifier",
          "name": "context"
         },
         "storageLocation": "memory",
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "actualGas",
         "identifier": {
          "type": "Identifier",
          "name": "actualGas"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "actualGasCost",
         "identifier": {
          "type": "Identifier",
          "name": "actualGasCost"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "preGas",
            "identifier": {
             "type": "Identifier",
             "name": "preGas"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "gasleft"
           },
           "arguments": [],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "VariableDeclarationStatement",
          "variables": [
           {
            "type": "VariableDeclaration",
            "typeName": {
             "type": "ElementaryTypeName",
             "name": "uint",
             "stateMutability": null
            },
            "name": "gasPrice",
            "identifier": {
             "type": "Identifier",
             "name": "gasPrice"
            },
            "storageLocation": null,
            "isStateVar": false,
            "isIndexed": false,
            "expression": null
           }
          ],
          "initialValue": {
           "type": "FunctionCall",
           "expression": {
            "type": "MemberAccess",
            "expression": {
             "type": "Identifier",
             "name": "UserOperationLib"
            },
            "memberName": "gasPrice"
           },
           "arguments": [
            {
             "type": "Identifier",
             "name": "op"
            }
           ],
           "names": [],
           "identifiers": []
          }
         },
         {
          "type": "UncheckedStatement",
          "block": {
           "type": "Block",
           "statements": [
            {
             "type": "ExpressionStatement",
             "expression": {
              "type": "BinaryOperation",
              "operator": "=",
              "left": {
               "type": "Identifier",
               "name": "actualGasCost"
              },
              "right": {
               "type": "BinaryOperation",
               "operator": "*",
               "left": {
                "type": "Identifier",
                "name": "actualGas"
               },
               "right": {
                "type": "Identifier",
                "name": "gasPrice"
               }
              }
             }
            },
            {
             "type": "IfStatement",
             "condition": {
              "type": "BinaryOperation",
              "operator": "!=",
              "left": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "opInfo"
               },
               "memberName": "paymentMode"
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "Identifier",
                "name": "PaymentMode"
               },
               "memberName": "paymasterStake"
              }
             },
             "trueBody": {
              "type": "Block",
              "statements": [
               {
                "type": "IfStatement",
                "condition": {
                 "type": "BinaryOperation",
                 "operator": "<",
                 "left": {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "opInfo"
                  },
                  "memberName": "prefund"
                 },
                 "right": {
                  "type": "Identifier",
                  "name": "actualGasCost"
                 }
                },
                "trueBody": {
                 "type": "Block",
                 "statements": [
                  {
                   "type": "ExpressionStatement",
                   "expression": {
                    "type": "FunctionCall",
                    "expression": {
                     "type": "Identifier",
                     "name": "revert"
                    },
                    "arguments": [
                     {
                      "type": "StringLiteral",
                      "value": "wallet prefund below actualGasCost",
                      "parts": [
                       "wallet prefund below actualGasCost"
                      ],
                      "isUnicode": [
                       false
                      ]
                     }
                    ],
                    "names": [],
                    "identifiers": []
                   }
                  }
                 ]
                },
                "falseBody": null
               },
               {
                "type": "VariableDeclarationStatement",
                "variables": [
                 {
                  "type": "VariableDeclaration",
                  "typeName": {
                   "type": "ElementaryTypeName",
                   "name": "uint",
                   "stateMutability": null
                  },
                  "name": "refund",
                  "identifier": {
                   "type": "Identifier",
                   "name": "refund"
                  },
                  "storageLocation": null,
                  "isStateVar": false,
                  "isIndexed": false,
                  "expression": null
                 }
                ],
                "initialValue": {
                 "type": "BinaryOperation",
                 "operator": "-",
                 "left": {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "opInfo"
                  },
                  "memberName": "prefund"
                 },
                 "right": {
                  "type": "Identifier",
                  "name": "actualGasCost"
                 }
                }
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "internalIncrementDeposit"
                 },
                 "arguments": [
                  {
                   "type": "FunctionCall",
                   "expression": {
                    "type": "MemberAccess",
                    "expression": {
                     "type": "Identifier",
                     "name": "op"
                    },
                    "memberName": "getSender"
                   },
                   "arguments": [],
                   "names": [],
                   "identifiers": []
                  },
                  {
                   "type": "Identifier",
                   "name": "refund"
                  }
                 ],
                 "names": [],
                 "identifiers": []
                }
               }
              ]
             },
             "falseBody": {
              "type": "Block",
              "statements": [
               {
                "type": "IfStatement",
                "condition": {
                 "type": "BinaryOperation",
                 "operator": ">",
                 "left": {
                  "type": "MemberAccess",
                  "expression": {
                   "type": "Identifier",
                   "name": "context"
                  },
                  "memberName": "length"
                 },
                 "right": {
                  "type": "NumberLiteral",
                  "number": "0",
                  "subdenomination": null
                 }
                },
                "trueBody": {
                 "type": "Block",
                 "statements": [
                  {
                   "type": "IfStatement",
                   "condition": {
                    "type": "BinaryOperation",
                    "operator": "!=",
                    "left": {
                     "type": "Identifier",
                     "name": "mode"
                    },
                    "right": {
                     "type": "MemberAccess",
                     "expression": {
                      "type": "MemberAccess",
                      "expression": {
                       "type": "Identifier",
                       "name": "IPaymaster"
                      },
                      "memberName": "PostOpMode"
                     },
                     "memberName": "postOpReverted"
                    }
                   },
                   "trueBody": {
                    "type": "Block",
                    "statements": [
                     {
                      "type": "ExpressionStatement",
                      "expression": {
                       "type": "FunctionCall",
                       "expression": {
                        "type": "NameValueExpression",
                        "expression": {
                         "type": "MemberAccess",
                         "expression": {
                          "type": "FunctionCall",
                          "expression": {
                           "type": "Identifier",
                           "name": "IPaymaster"
                          },
                          "arguments": [
                           {
                            "type": "MemberAccess",
                            "expression": {
                             "type": "Identifier",
                             "name": "op"
                            },
                            "memberName": "paymaster"
                           }
                          ],
                          "names": [],
                          "identifiers": []
                         },
                         "memberName": "postOp"
                        },
                        "arguments": {
                         "type": "NameValueList",
                         "names": [
                          "gas"
                         ],
                         "identifiers": [
                          {
                           "type": "Identifier",
                           "name": "gas"
                          }
                         ],
                         "arguments": [
                          {
                           "type": "MemberAccess",
                           "expression": {
                            "type": "Identifier",
                            "name": "op"
                           },
                           "memberName": "verificationGas"
                          }
                         ]
                        }
                       },
                       "arguments": [
                        {
                         "type": "Identifier",
                         "name": "mode"
                        },
                        {
                         "type": "Identifier",
                         "name": "context"
                        },
                        {
                         "type": "Identifier",
                         "name": "actualGasCost"
                        }
                       ],
                       "names": [],
                       "identifiers": []
                      }
                     }
                    ]
                   },
                   "falseBody": {
                    "type": "Block",
                    "statements": [
                     {
                      "type": "TryStatement",
                      "expression": {
                       "type": "FunctionCall",
                       "expression": {
                        "type": "NameValueExpression",
                        "expression": {
                         "type": "MemberAccess",
                         "expression": {
                          "type": "FunctionCall",
                          "expression": {
                           "type": "Identifier",
                           "name": "IPaymaster"
                          },
                          "arguments": [
                           {
                            "type": "MemberAccess",
                            "expression": {
                             "type": "Identifier",
                             "name": "op"
                            },
                            "memberName": "paymaster"
                           }
                          ],
                          "names": [],
                          "identifiers": []
                         },
                         "memberName": "postOp"
                        },
                        "arguments": {
                         "type": "NameValueList",
                         "names": [
                          "gas"
                         ],
                         "identifiers": [
                          {
                           "type": "Identifier",
                           "name": "gas"
                          }
                         ],
                         "arguments": [
                          {
                           "type": "MemberAccess",
                           "expression": {
                            "type": "Identifier",
                            "name": "op"
                           },
                           "memberName": "verificationGas"
                          }
                         ]
                        }
                       },
                       "arguments": [
                        {
                         "type": "Identifier",
                         "name": "mode"
                        },
                        {
                         "type": "Identifier",
                         "name": "context"
                        },
                        {
                         "type": "Identifier",
                         "name": "actualGasCost"
                        }
                       ],
                       "names": [],
                       "identifiers": []
                      },
                      "returnParameters": null,
                      "body": {
                       "type": "Block",
                       "statements": []
                      },
                      "catchClauses": [
                       {
                        "type": "CatchClause",
                        "isReasonStringType": true,
                        "kind": "Error",
                        "parameters": [
                         {
                          "type": "VariableDeclaration",
                          "typeName": {
                           "type": "ElementaryTypeName",
                           "name": "string",
                           "stateMutability": null
                          },
                          "name": "reason",
                          "identifier": {
                           "type": "Identifier",
                           "name": "reason"
                          },
                          "storageLocation": "memory",
                          "isStateVar": false,
                          "isIndexed": false,
                          "expression": null
                         }
                        ],
                        "body": {
                         "type": "Block",
                         "statements": [
                          {
                           "type": "RevertStatement",
                           "revertCall": {
                            "type": "FunctionCall",
                            "expression": {
                             "type": "Identifier",
                             "name": "FailedOp"
                            },
                            "arguments": [
                             {
                              "type": "Identifier",
                              "name": "opIndex"
                             },
                             {
                              "type": "MemberAccess",
                              "expression": {
                               "type": "Identifier",
                               "name": "op"
                              },
                              "memberName": "paymaster"
                             },
                             {
                              "type": "Identifier",
                              "name": "reason"
                             }
                            ],
                            "names": [],
                            "identifiers": []
                           }
                          }
                         ]
                        }
                       },
                       {
                        "type": "CatchClause",
                        "isReasonStringType": false,
                        "kind": null,
                        "parameters": null,
                        "body": {
                         "type": "Block",
                         "statements": [
                          {
                           "type": "RevertStatement",
                           "revertCall": {
                            "type": "FunctionCall",
                            "expression": {
                             "type": "Identifier",
                             "name": "FailedOp"
                            },
                            "arguments": [
                             {
                              "type": "Identifier",
                              "name": "opIndex"
                             },
                             {
                              "type": "MemberAccess",
                              "expression": {
                               "type": "Identifier",
                               "name": "op"
                              },
                              "memberName": "paymaster"
                             },
                             {
                              "type": "StringLiteral",
                              "value": "postOp revert",
                              "parts": [
                               "postOp revert"
                              ],
                              "isUnicode": [
                               false
                              ]
                             }
                            ],
                            "names": [],
                            "identifiers": []
                           }
                          }
                         ]
                        }
                       }
                      ]
                     }
                    ]
                   }
                  }
                 ]
                },
                "falseBody": null
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "+=",
                 "left": {
                  "type": "Identifier",
                  "name": "actualGas"
                 },
                 "right": {
                  "type": "BinaryOperation",
                  "operator": "-",
                  "left": {
                   "type": "Identifier",
                   "name": "preGas"
                  },
                  "right": {
                   "type": "FunctionCall",
                   "expression": {
                    "type": "Identifier",
                    "name": "gasleft"
                   },
                   "arguments": [],
                   "names": [],
                   "identifiers": []
                  }
                 }
                }
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "BinaryOperation",
                 "operator": "=",
                 "left": {
                  "type": "Identifier",
                  "name": "actualGasCost"
                 },
                 "right": {
                  "type": "BinaryOperation",
                  "operator": "*",
                  "left": {
                   "type": "Identifier",
                   "name": "actualGas"
                  },
                  "right": {
                   "type": "Identifier",
                   "name": "gasPrice"
                  }
                 }
                }
               },
               {
                "type": "ExpressionStatement",
                "expression": {
                 "type": "FunctionCall",
                 "expression": {
                  "type": "Identifier",
                  "name": "internalDecrementDeposit"
                 },
                 "arguments": [
                  {
                   "type": "MemberAccess",
                   "expression": {
                    "type": "Identifier",
                    "name": "op"
                   },
                   "memberName": "paymaster"
                  },
                  {
                   "type": "Identifier",
                   "name": "actualGasCost"
                  }
                 ],
                 "names": [],
                 "identifiers": []
                }
               }
              ]
             }
            },
            {
             "type": "VariableDeclarationStatement",
             "variables": [
              {
               "type": "VariableDeclaration",
               "typeName": {
                "type": "ElementaryTypeName",
                "name": "bool",
                "stateMutability": null
               },
               "name": "success",
               "identifier": {
                "type": "Identifier",
                "name": "success"
               },
               "storageLocation": null,
               "isStateVar": false,
               "isIndexed": false,
               "expression": null
              }
             ],
             "initialValue": {
              "type": "BinaryOperation",
              "operator": "==",
              "left": {
               "type": "Identifier",
               "name": "mode"
              },
              "right": {
               "type": "MemberAccess",
               "expression": {
                "type": "MemberAccess",
                "expression": {
                 "type": "Identifier",
                 "name": "IPaymaster"
                },
                "memberName": "PostOpMode"
               },
               "memberName": "opSucceeded"
              }
             }
            },
            {
             "type": "EmitStatement",
             "eventCall": {
              "type": "FunctionCall",
              "expression": {
               "type": "Identifier",
               "name": "UserOperationEvent"
              },
              "arguments": [
               {
                "type": "MemberAccess",
                "expression": {
                 "type": "Identifier",
                 "name": "opInfo"
                },
                "memberName": "requestId"
               },
               {
                "type": "FunctionCall",
                "expression": {
                 "type": "MemberAccess",
                 "expression": {
                  "type": "Identifier",
                  "name": "op"
                 },
                 "memberName": "getSender"
                },
                "arguments": [],
                "names": [],
                "identifiers": []
               },
               {
                "type": "MemberAccess",
                "expression": {
                 "type": "Identifier",
                 "name": "op"
                },
                "memberName": "paymaster"
               },
               {
                "type": "MemberAccess",
                "expression": {
                 "type": "Identifier",
                 "name": "op"
                },
                "memberName": "nonce"
               },
               {
                "type": "Identifier",
                "name": "actualGasCost"
               },
               {
                "type": "Identifier",
                "name": "gasPrice"
               },
               {
                "type": "Identifier",
                "name": "success"
               }
              ],
              "names": [],
              "identifiers": []
             }
            }
           ]
          }
         }
        ]
       },
       "visibility": "private",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": null
      },
      {
       "type": "FunctionDefinition",
       "name": "isPaymasterStaked",
       "parameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "address",
          "stateMutability": null
         },
         "name": "paymaster",
         "identifier": {
          "type": "Identifier",
          "name": "paymaster"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        },
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "uint",
          "stateMutability": null
         },
         "name": "stake",
         "identifier": {
          "type": "Identifier",
          "name": "stake"
         },
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "returnParameters": [
        {
         "type": "VariableDeclaration",
         "typeName": {
          "type": "ElementaryTypeName",
          "name": "bool",
          "stateMutability": null
         },
         "name": null,
         "identifier": null,
         "storageLocation": null,
         "isStateVar": false,
         "isIndexed": false,
         "expression": null
        }
       ],
       "body": {
        "type": "Block",
        "statements": [
         {
          "type": "ReturnStatement",
          "expression": {
           "type": "FunctionCall",
           "expression": {
            "type": "Identifier",
            "name": "isStaked"
           },
           "arguments": [
            {
             "type": "Identifier",
             "name": "paymaster"
            },
            {
             "type": "Identifier",
             "name": "stake"
            },
            {
             "type": "Identifier",
             "name": "unstakeDelaySec"
            }
           ],
           "names": [],
           "identifiers": []
          }
         }
        ]
       },
       "visibility": "public",
       "modifiers": [],
       "override": null,
       "isConstructor": false,
       "isReceiveEther": false,
       "isFallback": false,
       "isVirtual": false,
       "stateMutability": "view"
      }
     ],
     "kind": "contract"
    }
   ]
  }
 }
]